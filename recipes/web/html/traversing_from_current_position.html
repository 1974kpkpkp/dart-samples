<!DOCTYPE html>

<html>
  <ol>
    <li>Head</li>
    <li>Shoulders</li>
    <li>Knees</li>
    <li>Toes</li>
  </ol>

  <body>
    <script type="application/dart">
      import 'dart:html';

      List<Element> nextSiblings(item) {
        Element nextElement = item.nextElementSibling;
        return item.parent.children.skipWhile((element) => element != nextElement).toList();
      }

      List<Element> previousSibs(item) {
        return item.parent.children.takeWhile((element) => element != item).toList();
      }

      void main() {
        LIElement knees = querySelector('ol > li:nth-child(3)');

        // Parent.
        assert(knees.parent.tagName == 'OL');
        assert(knees.parent.parent.tagName == 'BODY');
        assert(knees.parent.children.length == 4);

        // Immediate neighbors.
        assert(knees.nextElementSibling.text == 'Toes');
        assert(knees.previousElementSibling.text == 'Shoulders');

        // Siblings.
        List<Element> previousSiblings = previousSibs(knees);
        assert(previousSiblings.first.text == 'Head');
        assert(previousSiblings.last.text == 'Shoulders');

        assert(nextSiblings(knees).first.text == 'Toes');
      }
    </script>
    <script src="packages/browser/dart.js"></script>
  </body>
</html>
