<!DOCTYPE html>

<html>
  <body>
    <span>You can edit this.&nbsp;</span><a href='#'>Edit</a>

    <script type="application/dart">

      import 'dart:html';

      void main() {

        var span = querySelector('span');
        var link = querySelector('a');

        // Create input but don't insert into DOM.
        var input = new Element.html(
            "<input type='text' value='${span.innerHtml}' />");

        bool editing = false;

        // Add event-listener to replace a span with an input, and vice-versa.
        link.onClick.listen((event) {
          editing = !editing;
          if (editing) {
            span.replaceWith(input);
            link.innerHtml = 'Done';
          } else {
            input.replaceWith(span);
            link.innerHtml = 'Edit';
          }

          event.preventDefault();
        });
      }
    </script>

    <script src="packages/browser/dart.js"></script>
  </body>
</html>
